# 现代系统设计构建块简介

**本节目标:** 掌握如何像使用乐高积木一样, 使用系统设计制作更大/更迷人的艺术品。

## 现代系统设计的自下而上方法

尽管每个系统细节方面都有其独特性, 但更多的, 系统设计方法也是有迹可循的。本课程中, 我们提取了设计问题中有迹可循的/相似的部分, 并将其提炼为 **构建块**.

在第三部分实际系统设计模块, 我们会一次或多次的使用我们提炼的构建块.

基于 **组件化** 的构想, 我们把构建块单独摘出, 通过一次彻底的讨论完成其设计. 这意味着在之后的任何地方, 我们将直接使用它, 而不必再次了解它.

我们可以将构建块视为更有效/更有能力的系统基本组件.

我们讨论的许多构建块也可用于公共云中的实际使用，例如 Amazon Web Services (AWS)、Azure 和 Google Cloud Platform (GCP)。读者可以使用这样的结构来构建一个系统进一步巩固我们的理解。（我们不会在本课程中构建系统，但会将其作为练习留给感兴趣的学习者。）

我们将详细讨论以下构建块：

1. **域名系统：**本章着重于如何为通过不同 Internet 协议连接到 Internet 的计算机设计分层/分布式的**命名系统**。
2. **负载均衡器：** 本章着重于负载均衡器的设计，它用于在可用服务器池中公平分配传入的客户端请求, 同时减少负载并可以绕过发生故障的服务器。
3. **数据库：** 本章支持我们存储、检索、修改和删除等不同数据处理过程相关的数据。在本节，我们将讨论**分布式数据库**的数据库类型、复制、分区和分析方法等。
4. **Key-Value 存储：**本章是一种非关系型数据库，以键值对的形式存储数据。在本节，我们将深入了解键值存储的设计, 并掌握其实现 可扩展性/持久性/可配置性等概念的方法。
5. **内容分发网络：** 本章将设计一个内容分发网络 (CDN)，用于保存视频、图像、音频和网页等病毒式传播(存在无限复制且重复复制可能性) 的内容。保证其可以有效的向用户交付内容, 同时减少书籍中心的延迟与负担。
6. **序列生成器：** 本章将专注于唯一 ID 生成器的设计，主要关注于因果关系ID生成规则。涉及到生成唯一 ID 的三种不同方法。
7. **服务监控：** 监控系统在分布式系统中至关重要，其有助于开发人员分析系统并在出现问题时提醒相关人员。好的监控系统可以防患于未然，保证管理员可以在 问题/故障 传播或不可控之前采取行动,避免线上问题。本章我们将构建两个监控系统, 一个用于服务端, 一个用于客户端。
8. **分布式缓存：**本章将设计一个分布式缓存系统，由多个缓存服务器构成并协调存储经常访问的数据。
9. **分布式消息队列：** 本章将重点关注由多个服务器组成的队列的设计，并引入了称为生产者和消费者的交互实体。这两个概念有助于解耦生产者和消费者，实现独立的可扩展性，并增强可靠性。
10. **发布-订阅系统：**本章将重点关注称为发布-订阅系统的**异步服务到服务通信方法的设计** 。它广泛应用于无服务器、微服务架构和数据处理系统。
11. **速率限制器：**本章将设计一个系统，根据预定义的限制来限制传入的服务请求。通常用作服务的防御层，以免服务被过度使用 -- 无论是故意的还是不小心(( ‵▽′)ψ)。
12. **Blob Store：**本章专注于非结构化数据的存储解决方案——例如，多媒体文件和二进制可执行文件。
13. **分布式搜索：**搜索系统接受用户的查询并在几秒或更短时间内返回相关内容。本章侧重于搜索相关的三个不可或缺的组件：爬网、索引和搜索。
14. **分布式日志记录：**日志记录是一项耗时且缓慢的 I/O 密集型操作。在这里，我们将设计一个系统，允许分布式系统中的服务有效地记录它们的事件。该系统将具有可扩展性和可靠性。
15. **分布式任务调度：** 本章将设计一个在任务和资源之间进行调解的分布式任务调度系统。它智能地将资源分配给任务，以满足任务级和系统级目标。通常用于卸载异步完成的后台处理。
16. **分片计数器：**本章演示了一个高效的分布式计数系统，可处理数百万个并发读/写请求，例如对名人推文的点赞。

我们对构建块进行了拓扑排序，依赖于其他构建块的构建块较晚出现。

## 约定

为了更具体的描述构建块，在设计构建块/设计问题时，我们都会添加`需求`部分。`需求`部分将揭示我们期望从开发的设计中获得的可交付成果。`需求`将有两个子类别：

1. **功能需求：** 代表所设计系统的用户将能够使用的功能。例如，系统将允许用户使用搜索栏搜索内容。
2. **非功能性需求 (NFR)：**非功能性需求是系统用户认为系统可用所依据的标准。NFR 可能包括高可用性、低延迟、可扩展性等要求。

让我们从构建块开始。(*^_^*)

